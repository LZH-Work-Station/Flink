# 表和流的转化

## 1. Table => Stream

![image-20210719155606899](D:\Tutorial\Flink\Blog\TableAPI\image\image-20210719155606899.png)

- AppendStream只针对于不会更新的 table，例如从一个流不断增加数据
- RetractStream可以允许 表在被转变的过程中更新

### 更新的例子：

只要Table的形成有聚合操作，或者使用开窗函数，就要使用RetractStream

## 2. 流 => 表

```java
Table sensorTable = tableEnv.fromDataStream(dataStream);
```

## 3. 基于DataStream创建临时视图

```java
tableEnv.createTemporaryView("sensorView",dataStream);
tableEnv.createTemporaryView("sensorView",
                            dataStream, "id, timestamp as ts, temperature");
```

## 4. 基于Table创建临时视图

```java
tableEnv.createTemporaryView("sensorView", sensorTable);
```

